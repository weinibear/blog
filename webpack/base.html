<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>我的</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="技术总结与分享">
    
    <link rel="preload" href="/assets/css/0.styles.928655d3.css" as="style"><link rel="preload" href="/assets/js/app.7663c34b.js" as="script"><link rel="preload" href="/assets/js/2.ad7e2b9b.js" as="script"><link rel="preload" href="/assets/js/1.cd2906e5.js" as="script"><link rel="preload" href="/assets/js/94.8e996495.js" as="script"><link rel="prefetch" href="/assets/js/10.f05445dd.js"><link rel="prefetch" href="/assets/js/11.27c1433b.js"><link rel="prefetch" href="/assets/js/12.a5b6f00e.js"><link rel="prefetch" href="/assets/js/13.7e00b0c7.js"><link rel="prefetch" href="/assets/js/14.7b8e9e1e.js"><link rel="prefetch" href="/assets/js/15.758d2d34.js"><link rel="prefetch" href="/assets/js/16.6630d05e.js"><link rel="prefetch" href="/assets/js/17.fc7304a2.js"><link rel="prefetch" href="/assets/js/18.3256f17f.js"><link rel="prefetch" href="/assets/js/19.74a914f9.js"><link rel="prefetch" href="/assets/js/20.b84bd26f.js"><link rel="prefetch" href="/assets/js/21.c8d33c9f.js"><link rel="prefetch" href="/assets/js/22.948ee8be.js"><link rel="prefetch" href="/assets/js/23.263efedb.js"><link rel="prefetch" href="/assets/js/24.11aa9649.js"><link rel="prefetch" href="/assets/js/25.33efc096.js"><link rel="prefetch" href="/assets/js/26.05d4109f.js"><link rel="prefetch" href="/assets/js/27.ae696562.js"><link rel="prefetch" href="/assets/js/28.76a5c416.js"><link rel="prefetch" href="/assets/js/29.2e49b0f8.js"><link rel="prefetch" href="/assets/js/3.dbbd7a21.js"><link rel="prefetch" href="/assets/js/30.b5bedac3.js"><link rel="prefetch" href="/assets/js/31.21857129.js"><link rel="prefetch" href="/assets/js/32.0f676cb4.js"><link rel="prefetch" href="/assets/js/33.432dcb4a.js"><link rel="prefetch" href="/assets/js/34.f0137e54.js"><link rel="prefetch" href="/assets/js/35.1f26a716.js"><link rel="prefetch" href="/assets/js/36.c22c0d27.js"><link rel="prefetch" href="/assets/js/37.e877cf0e.js"><link rel="prefetch" href="/assets/js/38.b46b20bf.js"><link rel="prefetch" href="/assets/js/39.c43f7528.js"><link rel="prefetch" href="/assets/js/4.9499c5db.js"><link rel="prefetch" href="/assets/js/40.672d1f36.js"><link rel="prefetch" href="/assets/js/41.2c60918e.js"><link rel="prefetch" href="/assets/js/42.8094afdc.js"><link rel="prefetch" href="/assets/js/43.f283043b.js"><link rel="prefetch" href="/assets/js/44.3c0855b0.js"><link rel="prefetch" href="/assets/js/45.920b4022.js"><link rel="prefetch" href="/assets/js/46.778afc5f.js"><link rel="prefetch" href="/assets/js/47.5f80ade1.js"><link rel="prefetch" href="/assets/js/48.53bd22f3.js"><link rel="prefetch" href="/assets/js/49.2e257484.js"><link rel="prefetch" href="/assets/js/5.b99649db.js"><link rel="prefetch" href="/assets/js/50.ad546f30.js"><link rel="prefetch" href="/assets/js/51.4379d67f.js"><link rel="prefetch" href="/assets/js/52.a00272b0.js"><link rel="prefetch" href="/assets/js/53.73d6cecc.js"><link rel="prefetch" href="/assets/js/54.706028fa.js"><link rel="prefetch" href="/assets/js/55.9360b69e.js"><link rel="prefetch" href="/assets/js/56.87c4f09f.js"><link rel="prefetch" href="/assets/js/57.e9030aad.js"><link rel="prefetch" href="/assets/js/58.d56a34be.js"><link rel="prefetch" href="/assets/js/59.21154867.js"><link rel="prefetch" href="/assets/js/6.a57ff915.js"><link rel="prefetch" href="/assets/js/60.252a2a08.js"><link rel="prefetch" href="/assets/js/61.e8d9c1a1.js"><link rel="prefetch" href="/assets/js/62.fd702ad7.js"><link rel="prefetch" href="/assets/js/63.9b26263c.js"><link rel="prefetch" href="/assets/js/64.9cac04e7.js"><link rel="prefetch" href="/assets/js/65.5efc3bc2.js"><link rel="prefetch" href="/assets/js/66.fbe93229.js"><link rel="prefetch" href="/assets/js/67.9c825920.js"><link rel="prefetch" href="/assets/js/68.7bd4f4cb.js"><link rel="prefetch" href="/assets/js/69.8a72581e.js"><link rel="prefetch" href="/assets/js/7.3651ca16.js"><link rel="prefetch" href="/assets/js/70.db074d07.js"><link rel="prefetch" href="/assets/js/71.1a558be2.js"><link rel="prefetch" href="/assets/js/72.b012ab57.js"><link rel="prefetch" href="/assets/js/73.00285de9.js"><link rel="prefetch" href="/assets/js/74.e5fb9345.js"><link rel="prefetch" href="/assets/js/75.bdcf3d72.js"><link rel="prefetch" href="/assets/js/76.154e5ece.js"><link rel="prefetch" href="/assets/js/77.f9025a56.js"><link rel="prefetch" href="/assets/js/78.1ffd509e.js"><link rel="prefetch" href="/assets/js/79.f14b2752.js"><link rel="prefetch" href="/assets/js/80.47366232.js"><link rel="prefetch" href="/assets/js/81.5c998920.js"><link rel="prefetch" href="/assets/js/82.1a680328.js"><link rel="prefetch" href="/assets/js/83.12715e3c.js"><link rel="prefetch" href="/assets/js/84.11c88d64.js"><link rel="prefetch" href="/assets/js/85.7e829812.js"><link rel="prefetch" href="/assets/js/86.48391c52.js"><link rel="prefetch" href="/assets/js/87.69b12f9e.js"><link rel="prefetch" href="/assets/js/88.16d86467.js"><link rel="prefetch" href="/assets/js/89.43beef02.js"><link rel="prefetch" href="/assets/js/90.35a9e4d0.js"><link rel="prefetch" href="/assets/js/91.5b433221.js"><link rel="prefetch" href="/assets/js/92.19b71e04.js"><link rel="prefetch" href="/assets/js/93.06ceace1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5a4296f1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.928655d3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="我的" class="logo"> <span class="site-name can-hide">我的</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/react/introduce.html" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/js/" class="nav-link">
  Javascript
</a></div><div class="nav-item"><a href="/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/ts/" class="nav-link">
  Typescript
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow down"></span></button> <button type="button" aria-label="移动端" class="mobile-dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mini-program/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/flutter/" class="nav-link">
  flutter
</a></li></ul></div></div><div class="nav-item"><a href="/browser/" class="nav-link">
  浏览器
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程化" class="dropdown-title"><span class="title">前端工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端工程化" class="mobile-dropdown-title"><span class="title">前端工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link router-link-active">
  webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend" class="dropdown-title"><span class="title">Backend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend" class="mobile-dropdown-title"><span class="title">Backend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/node/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/go/" class="nav-link">
  go
</a></li><li class="dropdown-item"><!----> <a href="/nginx/" class="nav-link">
  nginx
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/database/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/design-patterns/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/algorithms/" class="nav-link">
  数据结构和算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="软件开发" class="dropdown-title"><span class="title">软件开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="软件开发" class="mobile-dropdown-title"><span class="title">软件开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/product/" class="nav-link">
  产品设计
</a></li><li class="dropdown-item"><!----> <a href="/project-management/" class="nav-link">
  项目管理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/linux/" class="nav-link">
  linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的" class="dropdown-title"><span class="title">我的</span> <span class="arrow down"></span></button> <button type="button" aria-label="我的" class="mobile-dropdown-title"><span class="title">我的</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/weinibear" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/todo/" class="nav-link">
  TODO
</a></li><li class="dropdown-item"><!----> <a href="/interview/" class="nav-link">
  知识点导航
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/react/introduce.html" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/js/" class="nav-link">
  Javascript
</a></div><div class="nav-item"><a href="/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/ts/" class="nav-link">
  Typescript
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow down"></span></button> <button type="button" aria-label="移动端" class="mobile-dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mini-program/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/flutter/" class="nav-link">
  flutter
</a></li></ul></div></div><div class="nav-item"><a href="/browser/" class="nav-link">
  浏览器
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程化" class="dropdown-title"><span class="title">前端工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端工程化" class="mobile-dropdown-title"><span class="title">前端工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link router-link-active">
  webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend" class="dropdown-title"><span class="title">Backend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend" class="mobile-dropdown-title"><span class="title">Backend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/node/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/go/" class="nav-link">
  go
</a></li><li class="dropdown-item"><!----> <a href="/nginx/" class="nav-link">
  nginx
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/database/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/design-patterns/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/algorithms/" class="nav-link">
  数据结构和算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="软件开发" class="dropdown-title"><span class="title">软件开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="软件开发" class="mobile-dropdown-title"><span class="title">软件开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/product/" class="nav-link">
  产品设计
</a></li><li class="dropdown-item"><!----> <a href="/project-management/" class="nav-link">
  项目管理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/linux/" class="nav-link">
  linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的" class="dropdown-title"><span class="title">我的</span> <span class="arrow down"></span></button> <button type="button" aria-label="我的" class="mobile-dropdown-title"><span class="title">我的</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/weinibear" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/todo/" class="nav-link">
  TODO
</a></li><li class="dropdown-item"><!----> <a href="/interview/" class="nav-link">
  知识点导航
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/webpack/" class="sidebar-heading clickable router-link-active open"><span>webpack</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/webpack/base.html" aria-current="page" class="active sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack/base.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#html-webpack-plugin-插件" class="sidebar-link">html-webpack-plugin 插件</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#webpack-dev-server" class="sidebar-link">webpack-dev-server</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#code-splitting" class="sidebar-link">Code Splitting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack/base.html#_1-公共包分离" class="sidebar-link">1.公共包分离</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_2-使用-splitchunksplugin插件" class="sidebar-link">2.使用 SplitChunksPlugin插件</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_3-使用动态导入" class="sidebar-link">3.使用动态导入</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_4-使用-prefetching-preloading" class="sidebar-link">4.使用 prefetching/preloading</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_5-bundle-分析" class="sidebar-link">5.bundle 分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/webpack/base.html#缓存" class="sidebar-link">缓存</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack/base.html#_1-配置输出-bundle-name" class="sidebar-link">1.配置输出 bundle name</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_2-使用-code-splitling-将-bundle-分开输出" class="sidebar-link">2.使用 code splitling 将 bundle 分开输出</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_3-module-identifiers" class="sidebar-link">3.Module Identifiers</a></li></ul></li><li class="sidebar-sub-header"><a href="/webpack/base.html#build-performance" class="sidebar-link">build performance</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack/base.html#_1-使用最新的-webpack-和-nodejs" class="sidebar-link">1. 使用最新的 webpack 和 nodejs</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_2-loaders" class="sidebar-link">2. loaders</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_3-减少启动时间" class="sidebar-link">3.减少启动时间</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_4-resolving" class="sidebar-link">4.resolving</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_5-dlls" class="sidebar-link">5.Dlls</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_6-小就是快" class="sidebar-link">6.小就是快</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_7-worker-池" class="sidebar-link">7.worker 池</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_8-持久化缓存" class="sidebar-link">8.持久化缓存</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_9-自定义-plugins-loaders-的使用" class="sidebar-link">9.自定义 plugins/loaders 的使用</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_10-progress-插件的使用" class="sidebar-link">10.Progress 插件的使用</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_11-【for-dev】" class="sidebar-link">11.【for dev】</a></li><li class="sidebar-sub-header"><a href="/webpack/base.html#_12-【for-prod】" class="sidebar-link">12.【for prod】</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>webpack</p> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> webpack-demo
<span class="token builtin class-name">cd</span> webpack-demo
<span class="token function">npm</span> init <span class="token parameter variable">-y</span>
<span class="token function">npm</span> <span class="token function">install</span> webpack webpack-cli --save-dev

// 可以使用--config指定配置文件，默认就是webpack.config.js
npx webpack <span class="token parameter variable">--config</span> webpack.config.js

package.json中配置
<span class="token string">&quot;build&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;webpack&quot;</span>

</code></pre></div><h2 id="html-webpack-plugin-插件"><a href="#html-webpack-plugin-插件" class="header-anchor">#</a> html-webpack-plugin 插件</h2> <p>自动生成 index.html，并添加打包后文件，不用手动新增 index.html</p> <div class="language-bash extra-class"><pre class="language-bash"><code>const HtmlWebpackPlugin <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  plugins: <span class="token punctuation">[</span>
    new HtmlWebpackPlugin<span class="token punctuation">(</span><span class="token punctuation">{</span>
      title: <span class="token string">'Output Management'</span>,
    <span class="token punctuation">}</span><span class="token punctuation">)</span>,
  <span class="token punctuation">]</span>,
</code></pre></div><h2 id="webpack-dev-server"><a href="#webpack-dev-server" class="header-anchor">#</a> webpack-dev-server</h2> <p>当文件有改动时自动编译</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span><span class="token operator">:</span> <span class="token string">'./dist'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

 <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack serve --open&quot;</span><span class="token punctuation">,</span>
</code></pre></div><p>会在 8080 端口启动一个 web 服务，并监听文件改动，会自动在内存中生成 index.html 和 bundle.js</p> <h2 id="code-splitting"><a href="#code-splitting" class="header-anchor">#</a> Code Splitting</h2> <p>当两个入口文件中都有引用相同包时，在打包后输出文件中都会包含这个包</p> <h3 id="_1-公共包分离"><a href="#_1-公共包分离" class="header-anchor">#</a> 1.公共包分离</h3> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">dependOn</span><span class="token operator">:</span> <span class="token string">'shared'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">another</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./src/another-module.js'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">dependOn</span><span class="token operator">:</span> <span class="token string">'shared'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">shared</span><span class="token operator">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>

<span class="token comment">// 单页面应用中要使用多个入口文件时，建议配置</span>
 <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span> <span class="token string">'single'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_2-使用-splitchunksplugin插件"><a href="#_2-使用-splitchunksplugin插件" class="header-anchor">#</a> 2.使用 <code>SplitChunksPlugin</code>插件</h3> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_3-使用动态导入"><a href="#_3-使用动态导入" class="header-anchor">#</a> 3.使用动态导入</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 除了index.bundle.js外，另有lodash的bundle</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> _ <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'webpack'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> element<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">getComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">component</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-使用-prefetching-preloading"><a href="#_4-使用-prefetching-preloading" class="header-anchor">#</a> 4.使用 prefetching/preloading</h3> <p>Webpack v4.6.0+ 增加了对预获取和预加载的支持</p> <p><strong>prefetch</strong> 将来某些导航页面可能需要的资源</p> <p><strong>preloading</strong> 当前导航页面下将会用到的资源</p> <p><strong>比较：</strong><br>
preload chunk 会在父 chunk 加载时，以并行方式开始加载。prefetch chunk 会在父 chunk 加载结束后开始加载。<br>
preload chunk 具有中等优先级，并立即下载。prefetch chunk 在浏览器闲置时下载。<br>
preload chunk 会在父 chunk 中立即请求，用于当下时刻。prefetch chunk 会用于未来的某个时刻。<br>
浏览器支持程度不同。</p> <p>prefetch 例子：有一个 HomePage 组件，其内部渲染一个 LoginButton 组件，然后在点击后按需加载 LoginModal 组件。</p> <p>LoginButton.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackPrefetch: true */</span> <span class="token string">'./path/to/LoginModal.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这会生成 <link rel="prefetch" href="login-modal-chunk.js"> 并追加到页面头部，指示着浏览器在闲置时间预取 login-modal-chunk.js 文件。</p> <p>preload 例子：<br>
有图表组件 ChartComponent 组件需要依赖一个体积巨大的 ChartingLibrary 库。它会在渲染时显示一个 LoadingIndicator(加载进度条) 组件，然后立即按需导入 ChartingLibrary</p> <p>ChartComponent.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackPreload: true */</span> <span class="token string">'ChartingLibrary'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-bundle-分析"><a href="#_5-bundle-分析" class="header-anchor">#</a> 5.bundle 分析</h3> <p>1.打包内容分析工具 webpack-bundle-analyzer</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> BundleAnalyzerPlugin <span class="token operator">=</span>
  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-bundle-analyzer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>BundleAnalyzerPlugin<span class="token punctuation">;</span>

<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">BundleAnalyzerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="缓存"><a href="#缓存" class="header-anchor">#</a> 缓存</h2> <h3 id="_1-配置输出-bundle-name"><a href="#_1-配置输出-bundle-name" class="header-anchor">#</a> 1.配置输出 bundle name</h3> <p>只有当输出 bundle 改变时，文件名才会变化</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'[name].[contenthash].js'</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_2-使用-code-splitling-将-bundle-分开输出"><a href="#_2-使用-code-splitling-将-bundle-分开输出" class="header-anchor">#</a> 2.使用 code splitling 将 bundle 分开输出</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1.将runtime code分离成一个runtime chunk</span>
 <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span> <span class="token string">'single'</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment">// 2.使用SplitChunksPlugin插件将一些三方库如loadsh或react，分离成一个vendor chunk</span>
 <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span> <span class="token string">'single'</span><span class="token punctuation">,</span>
     <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
           <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
           <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'vendors'</span><span class="token punctuation">,</span>
           <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_3-module-identifiers"><a href="#_3-module-identifiers" class="header-anchor">#</a> 3.Module Identifiers</h3> <p>新建一个 print.js,在 index.js 中引入，这种涉及到一个包引入另一个包，重新 build 后，bundle name 会改变，因为 module.id 变化.
配置使得不因 module.id 变化而改变 bundle name</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">moduleIds</span><span class="token operator">:</span> <span class="token string">'deterministic'</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span>

</code></pre></div><h2 id="build-performance"><a href="#build-performance" class="header-anchor">#</a> build performance</h2> <h3 id="_1-使用最新的-webpack-和-nodejs"><a href="#_1-使用最新的-webpack-和-nodejs" class="header-anchor">#</a> 1. 使用最新的 webpack 和 nodejs</h3> <h3 id="_2-loaders"><a href="#_2-loaders" class="header-anchor">#</a> 2. loaders</h3> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

<span class="token comment">//换成</span>
<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

</code></pre></div><h3 id="_3-减少启动时间"><a href="#_3-减少启动时间" class="header-anchor">#</a> 3.减少启动时间</h3> <p>每一个额外的 loader/plugin 都有 bootup time，尽可能少用多的工具</p> <h3 id="_4-resolving"><a href="#_4-resolving" class="header-anchor">#</a> 4.resolving</h3> <p>提高解析速度：</p> <ol><li>减少如<code>resolve.modules</code>,<code>resolve.extensions</code>,<code>resolve.mainFiles</code>等里面条目的数量，因为他们会增加文件系统的调用次数</li> <li>如果没有使用 symlinks 像<code>npm link</code>,<code>yarn link</code>, 可以设置 resolve.symlinks: false</li> <li>如果使用自定义 resolve plugin 规则，并没有指定 context 上下文，可以设置 resolve.cacheWithContext: false</li></ol> <h3 id="_5-dlls"><a href="#_5-dlls" class="header-anchor">#</a> 5.Dlls</h3> <p>使用<code>DllPlugin</code>插件将那些不是经常变化的 code 输出为单独的编译结果，这会提高应用编译的速度，尽管它会加大打包过程的复杂度</p> <h3 id="_6-小就是快"><a href="#_6-小就是快" class="header-anchor">#</a> 6.小就是快</h3> <p>减小编译输出的总大小以提高 build performance，试着保持 chunks small</p> <ol><li>使用小的三分库</li> <li>在多页面应用中使用<code>SplitChunksPlugin</code></li> <li>在多页面应用中使用<code>SplitChunksPlugin</code>，并开启并发模式</li> <li>移除无用的代码</li> <li>只编译当前你正在开发的那些代码部分</li></ol> <h3 id="_7-worker-池"><a href="#_7-worker-池" class="header-anchor">#</a> 7.worker 池</h3> <p><code>thread-loader</code>将非常耗资源的 loaders 分配给一个 worker 池，但也不应使用太多的 worker 池</p> <h3 id="_8-持久化缓存"><a href="#_8-持久化缓存" class="header-anchor">#</a> 8.持久化缓存</h3> <p>在 webpack 配置中使用 cache 选项，使用 package.json 中的<code>postinstall</code>来清除缓存目录</p> <h3 id="_9-自定义-plugins-loaders-的使用"><a href="#_9-自定义-plugins-loaders-的使用" class="header-anchor">#</a> 9.自定义 plugins/loaders 的使用</h3> <p>使用时要进行概要分析，以确保不会引入性能相关问题</p> <h3 id="_10-progress-插件的使用"><a href="#_10-progress-插件的使用" class="header-anchor">#</a> 10.Progress 插件的使用</h3> <p>将<code>ProgressPlugin</code>从 webpack 配置中移除可以缩短打包时间（<code>rogressPlugin</code>插件可能对快速 build 并不能提供太多价值，所以使用时要注意权衡利弊）</p> <h3 id="_11-【for-dev】"><a href="#_11-【for-dev】" class="header-anchor">#</a> 11.【for dev】</h3> <ol><li>Incremental Builds</li> <li>Compile in Memory</li> <li>stats.toJson speed</li></ol> <h3 id="_12-【for-prod】"><a href="#_12-【for-prod】" class="header-anchor">#</a> 12.【for prod】</h3></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7663c34b.js" defer></script><script src="/assets/js/2.ad7e2b9b.js" defer></script><script src="/assets/js/1.cd2906e5.js" defer></script><script src="/assets/js/94.8e996495.js" defer></script>
  </body>
</html>
